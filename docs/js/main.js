"use strict";var globalTimeout=void 0;window.onload=function(){$("body").addClass("loaded")},$(document).ready(function(){$("#header-img").on("load",function(){$("body").addClass("loaded")});var o=["laf","powercrunch","fix","fnb","contivio","sambazon","protohomes"];Barba.Pjax.start(),$(document).on("click","#next",function(){var n=window.location.pathname,i="/";n=n.slice(1,-5),o.forEach(function(t,a){n==o[a]&&(i=a+1>=o.length?o[0]:o[a+1])}),Barba.Pjax.goTo("/"+i+".html")}),$(document).on("click","#prev",function(){var n=window.location.pathname,i="/";n=n.slice(1,-5),o.forEach(function(t,a){n==o[a]&&(i=a-1<=0?o[o.length-1]:o[a-1])}),Barba.Pjax.goTo("/"+i+".html")});var n=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this))},fadeOut:function(){return $(this.oldContainer).css("opacity","0").delay(400).promise()},fadeIn:function(){var o=this,n=$(this.newContainer);n.css("transition","0ms"),n.css("opacity","0"),$(this.oldContainer).hide(),setTimeout(function(){n.css("transition","600ms"),n.css("opacity","1"),o.done()},100)}}),i=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this))},fadeOut:function(){return $(this.oldContainer).css("opacity","0").delay(2e3).promise()},fadeIn:function(){var o=this,n=$(this.newContainer);n.css("transition","0ms"),n.css("opacity","0"),$(this.oldContainer).hide(),setTimeout(function(){n.css("transition","600ms"),n.css("opacity","1"),o.done()},1e3)}});Barba.Pjax.getTransition=function(){var o=Barba.HistoryManager.prevStatus().url;o=(o=o.split("/"))[o.length-1];var t=Barba.Utils.getCurrentUrl();return t=(t=t.split("/"))[t.length-1],console.log(o+" "+t),$("html, body").animate({scrollTop:"0px"}),""==o||""==t?(console.log("long"),i):(console.log("short"),n)};var t=new Flipping({duration:600});$(".portfolio a").click(function(){$(this).addClass("hidden"),$("#bio .vaporize").addClass("hide"),$(".portfolio").each(function(o){var n=$(this),i=Math.floor(600*Math.random());setTimeout(function(){$(n).addClass("hidden")},i)}),setTimeout(function(){t.read(),$(".portfolio").css("display","none"),$("#bio").css("display","none"),t.flip()},1300),setTimeout(function(){t.read(),$("nav").css("display","block"),$("#name").css("display","none"),t.flip()},2e3)}),$("#nav-name").click(function(){$(".portfolio").addClass("hidden"),$("#bio .vaporize").addClass("hide"),$(".portfolio").css("display","none"),$("#bio").css("display","none"),setTimeout(function(){t.read(),$("#name").css("display","block"),$("nav").css("display","none"),t.flip()},400),setTimeout(function(){t.read(),$(".portfolio").css("display","inline-block"),$("#bio").css("display","inline-block"),t.flip()},1e3),setTimeout(function(){$("#bio .vaporize").removeClass("hide")},1600),setTimeout(function(){$(".portfolio").removeClass("hidden")},2e3),Barba.Pjax.goTo("/")}),$(".vaporize").each(function(){var o="<span>";o+=$(this).text().split(" ").join(" </span><span>"),o+="</span>",$(this).html(o),Array.from($(".vaporize span")).forEach(function(o){var n=Math.floor(600*Math.random());$(o).css("transition","1500ms"),$(o).css("transition-delay",n+"ms"),$(o).css("transition-property","opacity")})}),$(document).on("mouseenter",".play-btn",function(){var o=$(this).parent().find("video"),n=($(this).parent().find(".inner"),$(this).parent());if(o.length>0){var i=$(this).parent().find(".vid-overlay"),t=$(o).children("source");if(t.attr("src"))i.addClass("center"),clearTimeout(globalTimeout),globalTimeout=setTimeout(function(){n.addClass("show")},600),o[0].play();else{var a=t.attr("data-src");t.attr("src",a),o[0].load(),i.addClass("center"),o[0].addEventListener("loadeddata",function(){o[0].play(),globalTimeout=setTimeout(function(){n.addClass("show")},600)},!1)}}}),$(document).on("mouseleave",".mobile-wireframe, .desktop-wireframe",function(){clearTimeout(globalTimeout);var o=$(this).children(".inner"),n=o.children("video"),i=o.children(".vid-overlay"),t=$(this);n.length>0&&(t.removeClass("show"),globalTimeout=setTimeout(function(){n[0].pause(),i.removeClass("center")},600))})});
//# sourceMappingURL=main.js.map