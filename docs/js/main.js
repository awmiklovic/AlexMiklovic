"use strict";var globalTimeout=void 0;$(window).on("load",function(){$("body").addClass("loaded")}),$(document).ready(function(){$("#header-img").on("load",function(){$("body").addClass("loaded")});var o=["laf","buckingham","powercrunch","fix","fnb","contivio","sambazon","protohomes","trensor"];Barba.Pjax.start(),$(document).on("click","#next",function(){var i=window.location.pathname,a="/";i=i.slice(1,-5),o.forEach(function(n,t){i==o[t]&&(a=t+1>=o.length?o[0]:o[t+1])}),Barba.Pjax.goTo("/"+a+".html")}),$(document).on("click","#prev",function(){var i=window.location.pathname,a="/";i=i.slice(1,-5),o.forEach(function(n,t){i==o[t]&&(a=t-1<=0?o[o.length-1]:o[t-1])}),Barba.Pjax.goTo("/"+a+".html")});var i=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this))},fadeOut:function(){return $(this.oldContainer).css("opacity","0").delay(400).promise()},fadeIn:function(){var o=this,i=$(this.newContainer);i.css("transition","0ms"),i.css("opacity","0"),$(this.oldContainer).hide(),setTimeout(function(){i.css("transition","600ms"),i.css("opacity","1"),o.done()},200)}}),a=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this))},fadeOut:function(){return $(this.oldContainer).css("opacity","0").delay(800).promise()},fadeIn:function(){var o=this,i=$(this.newContainer);i.css("transition","0ms"),i.css("opacity","0"),$(this.oldContainer).hide(),setTimeout(function(){i.css("transition","600ms"),i.css("opacity","1"),o.done()},1e3)}});Barba.Pjax.getTransition=function(){var o=Barba.HistoryManager.prevStatus().url;o=(o=o.split("/"))[o.length-1];var n=Barba.Utils.getCurrentUrl();return n=(n=n.split("/"))[n.length-1],console.log(o+" "+n),$("html, body").animate({scrollTop:"0px"}),""==o||""==n?(console.log("long"),a):(console.log("short"),i)};var n=new Flipping({duration:600});$(".portfolio a:not(.no-trigger)").click(function(){$(this).addClass("hidden"),$("#bio .vaporize").addClass("hide"),$(".portfolio").each(function(o){var i=$(this),a=Math.floor(600*Math.random());setTimeout(function(){$(i).addClass("hidden")},a)}),setTimeout(function(){n.read(),$("nav").css("display","block"),$("#name").css("display","none"),$(".smiley").css("display","none").css("opacity","0"),n.flip()},1e3)}),$("#nav-name").click(function(){$(".portfolio").addClass("hidden"),$("#bio .vaporize").addClass("hide"),$(".portfolio").css("display","none"),$("#bio").css("display","none"),setTimeout(function(){n.read(),$("#name").css("display","block"),$("nav").css("display","none"),$(".smiley").css("display","none"),n.flip()},400),setTimeout(function(){n.read(),$(".portfolio").css("display","inline-block"),$("#bio").css("display","inline-block"),$(".smiley").css("display","inline-block"),n.flip()},1e3),setTimeout(function(){$("#bio .vaporize").removeClass("hide")},1600),setTimeout(function(){$(".portfolio").removeClass("hidden");(new TimelineMax).to(".smiley",1,{opacity:"1",ease:Power4.easeIn})},2e3),Barba.Pjax.goTo("/")}),$(".vaporize").each(function(){var o="<span>";o+=$(this).text().split(" ").join(" </span><span>"),o+="</span>",o+='<div style="margin-top:15px;"><span>T +619 780 2839</span> <span>/</span> <span><a href="mailto:awmiklovic@gmail.com">awmiklovic@gmail.com</a></span></div>',$(this).html(o),Array.from($(".vaporize span")).forEach(function(o){var i=Math.floor(600*Math.random());$(o).css("transition","3000ms"),$(o).css("transition-delay",i+"ms"),$(o).css("transition-property","opacity")})});var t=1e3;$("#preload-inner .name-letter").each(function(){t+=150;var o=$(this);setTimeout(function(){$(o).removeClass("hidden")},t)}),setTimeout(function(){$("#preload-inner .name-letter").mouseover(function(){!function(){n.read();var o=new TimelineMax;o.to("#name path",0,{fill:"#ffffff"}).to(".portfolio",0,{opacity:"0"}).to("body",0,{backgroundColor:"#000000"}).to("#preloader",0,{display:"none"}).to("#name",0,{display:"block"}),n.flip(),o.delay(.8).to("#name path",1.2,{fill:"#000000"}).to("body",1.2,{backgroundColor:"#ffffff"},"-=.1.2s").to(".portfolio",0,{opacity:"1"}).to("#bio .vaporize",.5,{className:"-=hide"},"-=.2s").to(".portfolio",0,{className:"-=hidden"}).to(".smiley",1,{opacity:"1",ease:Power4.easeIn})}()})},t),$(document).on("mouseenter",".play-btn",function(){var o=$(this).parent().find("video");$(this).parent().find(".inner");$(this).css("opacity","0"),$(this).parent().find(".loading").css("opacity","1");var i=$(this).parent();if(o.length>0){var a=$(this).parent().find(".vid-overlay"),n=$(o).children("source");if(n.attr("src"))a.addClass("center"),clearTimeout(globalTimeout),globalTimeout=setTimeout(function(){i.addClass("show")},600),o[0].play();else{var t=n.attr("data-src");n.attr("src",t),o[0].load(),a.addClass("center"),o[0].addEventListener("loadeddata",function(){o[0].play(),globalTimeout=setTimeout(function(){i.addClass("show")},600)},!1)}}}),$(document).on("mouseleave",".mobile-wireframe, .desktop-wireframe",function(){clearTimeout(globalTimeout);var o=$(this).children(".inner"),i=o.children("video"),a=o.children(".vid-overlay");$(this).find(".play-btn").css("opacity","1"),$(this).find(".loading").css("opacity","0");var n=$(this);i.length>0&&(n.removeClass("show"),globalTimeout=setTimeout(function(){i[0].pause(),a.removeClass("center")},600))})}),$(document).on("click",".smiley",function(){$("html, body").animate({scrollTop:"0px"}),$("body").append('<div id="smiley-overlay"></div>'),$("#smiley-overlay").load("https://codepen.io/awmiklovic/pen/aQPpXd.html"),setTimeout(function(){$("#smiley-overlay").addClass("visible")},50)});
//# sourceMappingURL=main.js.map