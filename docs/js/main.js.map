{"version":3,"sources":["main.js"],"names":["globalTimeout","window","onload","$","addClass","document","ready","on","pages","Barba","Pjax","start","currentURL","location","pathname","nextPage","slice","forEach","page","i","length","goTo","ShortFadeTransition","BaseTransition","extend","Promise","all","this","newContainerLoading","fadeOut","then","fadeIn","bind","oldContainer","css","delay","promise","_this","$el","newContainer","hide","setTimeout","done","FadeTransition","getTransition","HistoryManager","prevStatus","url","split","targetURL","Utils","getCurrentUrl","console","log","animate","scrollTop","flipping","Flipping","duration","click","each","el","rand","Math","floor","random","read","flip","removeClass","newArray","text","join","html","Array","from","element","transition","video","parent","find","wireframe","overlay","source","children","attr","clearTimeout","play","src","load","addEventListener","inner","pause"],"mappings":"AAAA,aAEA,IAAIA,mBAAgB,EAEpBC,OAAOC,OAAS,WACfC,EAAE,QAAQC,SAAS,WAGpBD,EAAEE,UAAUC,MAAM,WAEjBH,EAAE,eAAeI,GAAG,OAAQ,WAC3BJ,EAAE,QAAQC,SAAS,YAGpB,IAAII,GAAS,MAAO,cAAe,MAAO,MAAO,WAAY,WAAY,cAEzEC,MAAMC,KAAKC,QAEXR,EAAEE,UAAUE,GAAG,QAAS,QAAS,WAChC,IAAIK,EAAaX,OAAOY,SAASC,SAC7BC,EAAW,IACfH,EAAaA,EAAWI,MAAM,GAAI,GAClCR,EAAMS,QAAQ,SAAUC,EAAMC,GAEzBP,GAAcJ,EAAMW,KAEtBJ,EADGI,EAAI,GAAKX,EAAMY,OACPZ,EAAM,GACAA,EAAMW,EAAI,MAG9BV,MAAMC,KAAKW,KAAK,IAAMN,EAAW,WAGlCZ,EAAEE,UAAUE,GAAG,QAAS,QAAS,WAChC,IAAIK,EAAaX,OAAOY,SAASC,SAC7BC,EAAW,IACfH,EAAaA,EAAWI,MAAM,GAAI,GAClCR,EAAMS,QAAQ,SAAUC,EAAMC,GAEzBP,GAAcJ,EAAMW,KAEtBJ,EADGI,EAAI,GAAK,EACDX,EAAMA,EAAMY,OAAS,GACfZ,EAAMW,EAAI,MAG9BV,MAAMC,KAAKW,KAAK,IAAMN,EAAW,WAGlC,IAAIO,EAAsBb,MAAMc,eAAeC,QAE9Cb,MAAO,WACNc,QAAQC,KAAKC,KAAKC,oBAAqBD,KAAKE,YAAYC,KAAKH,KAAKI,OAAOC,KAAKL,QAG/EE,QAAS,WAER,OAAO1B,EAAEwB,KAAKM,cAAcC,IAAI,UAAW,KAAKC,MAAM,KAAKC,WAG5DL,OAAQ,WAOP,IAAIM,EAAQV,KACRW,EAAMnC,EAAEwB,KAAKY,cACjBD,EAAIJ,IAAI,aAAc,OACtBI,EAAIJ,IAAI,UAAW,KAEnB/B,EAAEwB,KAAKM,cAAcO,OAErBC,WAAW,WACVH,EAAIJ,IAAI,aAAc,SACtBI,EAAIJ,IAAI,UAAW,KACnBG,EAAMK,QACJ,QAKDC,EAAiBlC,MAAMc,eAAeC,QACzCb,MAAO,WAQNc,QAAQC,KAAKC,KAAKC,oBAAqBD,KAAKE,YAAYC,KAAKH,KAAKI,OAAOC,KAAKL,QAG/EE,QAAS,WAKR,OAAO1B,EAAEwB,KAAKM,cAAcC,IAAI,UAAW,KAAKC,MAAM,KAAMC,WAG7DL,OAAQ,WAOP,IAAIM,EAAQV,KACRW,EAAMnC,EAAEwB,KAAKY,cACjBD,EAAIJ,IAAI,aAAc,OACtBI,EAAIJ,IAAI,UAAW,KAEnB/B,EAAEwB,KAAKM,cAAcO,OAErBC,WAAW,WACVH,EAAIJ,IAAI,aAAc,SACtBI,EAAIJ,IAAI,UAAW,KACnBG,EAAMK,QACJ,QAQLjC,MAAMC,KAAKkC,cAAgB,WAK1B,IAAIhC,EAAaH,MAAMoC,eAAeC,aAAaC,IAEnDnC,GADAA,EAAaA,EAAWoC,MAAM,MACNpC,EAAWQ,OAAS,GAE5C,IAAI6B,EAAYxC,MAAMyC,MAAMC,gBAQ5B,OANAF,GADAA,EAAYA,EAAUD,MAAM,MACNC,EAAU7B,OAAS,GAEzCgC,QAAQC,IAAIzC,EAAa,IAAMqC,GAE/B9C,EAAE,cAAcmD,SAAUC,UAAW,QAEnB,IAAd3C,GAAiC,IAAbqC,GACvBG,QAAQC,IAAI,QACLV,IAEPS,QAAQC,IAAI,SACL/B,IAMT,IAAIkC,EAAW,IAAIC,UAClBC,SAAU,MAiCXvD,EAAE,gBAAgBwD,MAAM,WACvBxD,EAAEwB,MAAMvB,SAAS,UACjBD,EAAE,kBAAkBC,SAAS,QAC7BD,EAAE,cAAcyD,KAAK,SAAUzC,GAC9B,IAAI0C,EAAK1D,EAAEwB,MACPmC,EAAOC,KAAKC,MAAsB,IAAhBD,KAAKE,UAE3BxB,WAAW,WACVtC,EAAE0D,GAAIzD,SAAS,WAFJ0D,KAKbrB,WAAW,WAxCXe,EAASU,OACT/D,EAAE,cAAc+B,IAAI,UAAW,QAC/B/B,EAAE,QAAQ+B,IAAI,UAAW,QACzBsB,EAASW,QAuCN,MACH1B,WAAW,WA7BXe,EAASU,OACT/D,EAAE,OAAO+B,IAAI,UAAW,SACxB/B,EAAE,SAAS+B,IAAI,UAAW,QAC1BsB,EAASW,QA4BN,OAGJhE,EAAE,aAAawD,MAAM,WAEpBxD,EAAE,cAAcC,SAAS,UACzBD,EAAE,kBAAkBC,SAAS,QAC7BD,EAAE,cAAc+B,IAAI,UAAW,QAC/B/B,EAAE,QAAQ+B,IAAI,UAAW,QACzBO,WAAW,WAjCXe,EAASU,OACT/D,EAAE,SAAS+B,IAAI,UAAW,SAC1B/B,EAAE,OAAO+B,IAAI,UAAW,QACxBsB,EAASW,QAgCN,KACH1B,WAAW,WAlDXe,EAASU,OACT/D,EAAE,cAAc+B,IAAI,UAAW,gBAC/B/B,EAAE,QAAQ+B,IAAI,UAAW,gBACzBsB,EAASW,QAiDN,KACH1B,WAAW,WACVtC,EAAE,kBAAkBiE,YAAY,SAC9B,MACH3B,WAAW,WACVtC,EAAE,cAAciE,YAAY,WAC1B,KACH3D,MAAMC,KAAKW,KAAK,OAIjBlB,EAAE,aAAayD,KAAK,WAEnB,IAEIS,EAAW,SACfA,GAHWlE,EAAEwB,MAAM2C,OACEtB,MAAM,KAELuB,KAAK,kBAC3BF,GAAY,UACZlE,EAAEwB,MAAM6C,KAAKH,GAEMI,MAAMC,KAAKvE,EAAE,mBACnBc,QAAQ,SAAU0D,GAC9B,IAEIb,EAAOC,KAAKC,MADC,IACKD,KAAKE,UAC3B9D,EAAEwE,GAASzC,IAAI,aAAc0C,UAC7BzE,EAAEwE,GAASzC,IAAI,mBAAoB4B,EAAO,MAC1C3D,EAAEwE,GAASzC,IAAI,sBAAuB,eAKxC/B,EAAEE,UAAUE,GAAG,aAAc,YAAa,WACzC,IAAIsE,EAAQ1E,EAAEwB,MAAMmD,SAASC,KAAK,SAE9BC,GADQ7E,EAAEwB,MAAMmD,SAASC,KAAK,UAClB5E,EAAEwB,MAAMmD,UACxB,GAAID,EAAMzD,OAAS,EAAG,CACrB,IAAI6D,EAAU9E,EAAEwB,MAAMmD,SAASC,KAAK,gBAEhCG,EAAS/E,EAAE0E,GAAOM,SAAS,UAC/B,GAAKD,EAAOE,KAAK,OAahBH,EAAQ7E,SAAS,UACjBiF,aAAarF,eACbA,cAAgByC,WAAW,WAC1BuC,EAAU5E,SAAS,SACjB,KACHyE,EAAM,GAAGS,WAlBe,CACxB,IAAIC,EAAML,EAAOE,KAAK,YACtBF,EAAOE,KAAK,MAAOG,GACnBV,EAAM,GAAGW,OACTP,EAAQ7E,SAAS,UACjByE,EAAM,GAAGY,iBAAiB,aAAc,WAEvCZ,EAAM,GAAGS,OACTtF,cAAgByC,WAAW,WAC1BuC,EAAU5E,SAAS,SACjB,OACD,OAYND,EAAEE,UAAUE,GAAG,aAAc,wCAAyC,WACrE8E,aAAarF,eACb,IAAI0F,EAAQvF,EAAEwB,MAAMwD,SAAS,UACzBN,EAAQa,EAAMP,SAAS,SACvBF,EAAUS,EAAMP,SAAS,gBACzBH,EAAY7E,EAAEwB,MACdkD,EAAMzD,OAAS,IAClB4D,EAAUZ,YAAY,QACtBpE,cAAgByC,WAAW,WAC1BoC,EAAM,GAAGc,QACTV,EAAQb,YAAY,WAClB","file":"main.js","sourcesContent":["'use strict';\n\nvar globalTimeout = void 0;\n\nwindow.onload = function () {\n\t$('body').addClass('loaded');\n};\n\n$(document).ready(function () {\n\n\t$('#header-img').on('load', function () {\n\t\t$('body').addClass('loaded');\n\t});\n\n\tvar pages = [\"laf\", \"powercrunch\", \"fix\", \"fnb\", \"contivio\", \"sambazon\", \"protohomes\"];\n\n\tBarba.Pjax.start();\n\n\t$(document).on('click', '#next', function () {\n\t\tvar currentURL = window.location.pathname;\n\t\tvar nextPage = '/';\n\t\tcurrentURL = currentURL.slice(1, -5);\n\t\tpages.forEach(function (page, i) {\n\t\t\t//alert(pages.length);\n\t\t\tif (currentURL == pages[i]) {\n\t\t\t\tif (i + 1 >= pages.length) {\n\t\t\t\t\tnextPage = pages[0];\n\t\t\t\t} else nextPage = pages[i + 1];\n\t\t\t}\n\t\t});\n\t\tBarba.Pjax.goTo(\"/\" + nextPage + \".html\");\n\t});\n\n\t$(document).on('click', '#prev', function () {\n\t\tvar currentURL = window.location.pathname;\n\t\tvar nextPage = '/';\n\t\tcurrentURL = currentURL.slice(1, -5);\n\t\tpages.forEach(function (page, i) {\n\t\t\t//alert(pages.length);\n\t\t\tif (currentURL == pages[i]) {\n\t\t\t\tif (i - 1 <= 0) {\n\t\t\t\t\tnextPage = pages[pages.length - 1];\n\t\t\t\t} else nextPage = pages[i - 1];\n\t\t\t}\n\t\t});\n\t\tBarba.Pjax.goTo(\"/\" + nextPage + \".html\");\n\t});\n\n\tvar ShortFadeTransition = Barba.BaseTransition.extend({\n\n\t\tstart: function start() {\n\t\t\tPromise.all([this.newContainerLoading, this.fadeOut()]).then(this.fadeIn.bind(this));\n\t\t},\n\n\t\tfadeOut: function fadeOut() {\n\n\t\t\treturn $(this.oldContainer).css('opacity', '0').delay(400).promise();\n\t\t},\n\n\t\tfadeIn: function fadeIn() {\n\t\t\t/**\n    * this.newContainer is the HTMLElement of the new Container\n    * At this stage newContainer is on the DOM (inside our #barba-container and with visibility: hidden)\n    * Please note, newContainer is available just after newContainerLoading is resolved!\n    */\n\n\t\t\tvar _this = this;\n\t\t\tvar $el = $(this.newContainer);\n\t\t\t$el.css('transition', '0ms');\n\t\t\t$el.css('opacity', '0');\n\n\t\t\t$(this.oldContainer).hide();\n\n\t\t\tsetTimeout(function () {\n\t\t\t\t$el.css('transition', '600ms');\n\t\t\t\t$el.css('opacity', '1');\n\t\t\t\t_this.done();\n\t\t\t}, 100);\n\t\t}\n\n\t});\n\n\tvar FadeTransition = Barba.BaseTransition.extend({\n\t\tstart: function start() {\n\t\t\t/**\n    * This function is automatically called as soon the Transition starts\n    * this.newContainerLoading is a Promise for the loading of the new container\n    * (Barba.js also comes with an handy Promise polyfill!)\n    */\n\n\t\t\t// As soon the loading is finished and the old page is faded out, let's fade the new page\n\t\t\tPromise.all([this.newContainerLoading, this.fadeOut()]).then(this.fadeIn.bind(this));\n\t\t},\n\n\t\tfadeOut: function fadeOut() {\n\t\t\t/**\n    * this.oldContainer is the HTMLElement of the old Container\n    */\n\n\t\t\treturn $(this.oldContainer).css('opacity', '0').delay(2000).promise();\n\t\t},\n\n\t\tfadeIn: function fadeIn() {\n\t\t\t/**\n    * this.newContainer is the HTMLElement of the new Container\n    * At this stage newContainer is on the DOM (inside our #barba-container and with visibility: hidden)\n    * Please note, newContainer is available just after newContainerLoading is resolved!\n    */\n\n\t\t\tvar _this = this;\n\t\t\tvar $el = $(this.newContainer);\n\t\t\t$el.css('transition', '0ms');\n\t\t\t$el.css('opacity', '0');\n\n\t\t\t$(this.oldContainer).hide();\n\n\t\t\tsetTimeout(function () {\n\t\t\t\t$el.css('transition', '600ms');\n\t\t\t\t$el.css('opacity', '1');\n\t\t\t\t_this.done();\n\t\t\t}, 1000);\n\t\t}\n\t});\n\n\t/**\n  * Next step, you have to tell Barba to use the new Transition\n  */\n\n\tBarba.Pjax.getTransition = function () {\n\t\t/**\n   * Here you can use your own logic!\n   * For example you can use different Transition based on the current page or link...\n   */\n\t\tvar currentURL = Barba.HistoryManager.prevStatus().url;\n\t\tcurrentURL = currentURL.split('/');\n\t\tcurrentURL = currentURL[currentURL.length - 1];\n\n\t\tvar targetURL = Barba.Utils.getCurrentUrl();\n\t\ttargetURL = targetURL.split('/');\n\t\ttargetURL = targetURL[targetURL.length - 1];\n\n\t\tconsole.log(currentURL + \" \" + targetURL);\n\n\t\t$(\"html, body\").animate({ scrollTop: \"0px\" });\n\n\t\tif (currentURL == '' || targetURL == '') {\n\t\t\tconsole.log('long');\n\t\t\treturn FadeTransition;\n\t\t} else {\n\t\t\tconsole.log('short');\n\t\t\treturn ShortFadeTransition;\n\t\t}\n\t};\n\n\t//Flipping Animations\n\n\tvar flipping = new Flipping({\n\t\tduration: 600\n\t});\n\n\tvar hideBlocks = function hideBlocks() {\n\t\tflipping.read();\n\t\t$('.portfolio').css('display', 'none');\n\t\t$('#bio').css('display', 'none');\n\t\tflipping.flip();\n\t};\n\n\tvar showBlocks = function showBlocks() {\n\t\tflipping.read();\n\t\t$('.portfolio').css('display', 'inline-block');\n\t\t$('#bio').css('display', 'inline-block');\n\t\tflipping.flip();\n\t};\n\n\tvar showNav = function showNav() {\n\t\tflipping.read();\n\t\t$('nav').css('display', 'block');\n\t\t$('#name').css('display', 'none');\n\t\tflipping.flip();\n\t};\n\n\tvar hideNav = function hideNav() {\n\t\tflipping.read();\n\t\t$('#name').css('display', 'block');\n\t\t$('nav').css('display', 'none');\n\t\tflipping.flip();\n\t};\n\n\t//Bind Portfolio Images\n\n\t$('.portfolio a').click(function () {\n\t\t$(this).addClass('hidden');\n\t\t$('#bio .vaporize').addClass('hide');\n\t\t$('.portfolio').each(function (i) {\n\t\t\tvar el = $(this);\n\t\t\tvar rand = Math.floor(Math.random() * 600);\n\t\t\tvar delay = rand;\n\t\t\tsetTimeout(function () {\n\t\t\t\t$(el).addClass('hidden');\n\t\t\t}, delay);\n\t\t});\n\t\tsetTimeout(function () {\n\t\t\thideBlocks();\n\t\t}, 1300);\n\t\tsetTimeout(function () {\n\t\t\tshowNav();\n\t\t}, 2000);\n\t});\n\n\t$('#nav-name').click(function () {\n\t\t//alert('test');\n\t\t$('.portfolio').addClass('hidden');\n\t\t$('#bio .vaporize').addClass('hide');\n\t\t$('.portfolio').css('display', 'none');\n\t\t$('#bio').css('display', 'none');\n\t\tsetTimeout(function () {\n\t\t\thideNav();\n\t\t}, 400);\n\t\tsetTimeout(function () {\n\t\t\tshowBlocks();\n\t\t}, 1000);\n\t\tsetTimeout(function () {\n\t\t\t$('#bio .vaporize').removeClass('hide');\n\t\t}, 1600);\n\t\tsetTimeout(function () {\n\t\t\t$('.portfolio').removeClass('hidden');\n\t\t}, 2000);\n\t\tBarba.Pjax.goTo('/');\n\t});\n\n\t//Vaporize Text\n\t$('.vaporize').each(function () {\n\n\t\tvar text = $(this).text();\n\t\tvar wordArray = text.split(' ');\n\t\tvar newArray = '<span>';\n\t\tnewArray += wordArray.join(' </span><span>');\n\t\tnewArray += \"</span>\";\n\t\t$(this).html(newArray);\n\n\t\tvar animateArray = Array.from($('.vaporize span'));\n\t\tanimateArray.forEach(function (element) {\n\t\t\tvar transition = 1500;\n\t\t\tvar delayRange = 600;\n\t\t\tvar rand = Math.floor(Math.random() * delayRange);\n\t\t\t$(element).css('transition', transition + 'ms');\n\t\t\t$(element).css('transition-delay', rand + 'ms');\n\t\t\t$(element).css('transition-property', 'opacity');\n\t\t});\n\t});\n\n\t//Lazy Load Videos\n\t$(document).on('mouseenter', '.play-btn', function () {\n\t\tvar video = $(this).parent().find('video');\n\t\tvar inner = $(this).parent().find('.inner');\n\t\tvar wireframe = $(this).parent();\n\t\tif (video.length > 0) {\n\t\t\tvar overlay = $(this).parent().find('.vid-overlay');\n\t\t\t//clearTimeout(globalTimeout);\n\t\t\tvar source = $(video).children('source');\n\t\t\tif (!source.attr('src')) {\n\t\t\t\tvar src = source.attr('data-src');\n\t\t\t\tsource.attr('src', src);\n\t\t\t\tvideo[0].load();\n\t\t\t\toverlay.addClass('center');\n\t\t\t\tvideo[0].addEventListener('loadeddata', function () {\n\t\t\t\t\t// Video is loaded and can be played\n\t\t\t\t\tvideo[0].play();\n\t\t\t\t\tglobalTimeout = setTimeout(function () {\n\t\t\t\t\t\twireframe.addClass('show');\n\t\t\t\t\t}, 600);\n\t\t\t\t}, false);\n\t\t\t} else {\n\t\t\t\toverlay.addClass('center');\n\t\t\t\tclearTimeout(globalTimeout);\n\t\t\t\tglobalTimeout = setTimeout(function () {\n\t\t\t\t\twireframe.addClass('show');\n\t\t\t\t}, 600);\n\t\t\t\tvideo[0].play();\n\t\t\t}\n\t\t}\n\t});\n\n\t$(document).on('mouseleave', '.mobile-wireframe, .desktop-wireframe', function () {\n\t\tclearTimeout(globalTimeout);\n\t\tvar inner = $(this).children('.inner');\n\t\tvar video = inner.children('video');\n\t\tvar overlay = inner.children('.vid-overlay');\n\t\tvar wireframe = $(this);\n\t\tif (video.length > 0) {\n\t\t\twireframe.removeClass('show');\n\t\t\tglobalTimeout = setTimeout(function () {\n\t\t\t\tvideo[0].pause();\n\t\t\t\toverlay.removeClass('center');\n\t\t\t}, 600);\n\t\t}\n\t});\n});"]}